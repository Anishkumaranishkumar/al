<!DOCTYPE html>
<html>
<head>
   <title> Try It Yourself </title>
</head>
<body>
   <button onclick="sendGetRequest()"> Send GET Request </button>
   <img id="demo" ></img>

   <script>
      var httpRequest = new XMLHttpRequest();
      
      function sendGetRequest() {
         httpRequest.onreadystatechange = writeContent;
      
         httpRequest.open('GET', chrome.extension.getURL('https://9gag.com/v1/group-posts/group/default/1000/ogzbv3%2CaqGmq6R%2Ca61wADN&c=10'), true) ;
         httpRequest.send();
      }
      
      function writeContent() {
         if(httpRequest.readyState === 4) {
            if(httpRequest.status == 200) {
               var response = httpRequest.responseText;
               var bj =   JSON.parse(response)
               document.getElementById("demo").src = bj.data.posts[1].images.image700.url+"" ;
               document.getElementById("demo").height = bj.data.posts[1].images.image700.height+"" ;
               document.getElementById("demo").width = bj.data.posts[1].images.image700.width+"" ;
            } else {
               alert('There was a problem with the request.');
            }
         } else {
            // response not ready yet
         }
      }
   </script>
</body>
</html>
